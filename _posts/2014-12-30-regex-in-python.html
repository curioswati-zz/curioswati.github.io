---
title: "Regex in Python"
permalink: "\\python\regex-in-python\"
uuid: "8055542853068029361"
guid: "tag:blogger.com,1999:blog-6547550913838169867.post-8055542853068029361"
date: "2014-12-30 10:07:00"
description: 
blogger:
    siteid: "6547550913838169867"
    postid: "8055542853068029361"
    comments: "0"
categories: 
author: 
    name: "SWATI JAISWAL"
    url: "https://plus.google.com/110860846254320536484?rel=author"
    image: "http://img2.blogblog.com/img/b16-rounded.gif"
---

<div class="css-full-post-content js-full-post-content">
<div dir="ltr" style="text-align: left;" trbidi="on"><div dir="ltr" style="text-align: left;" trbidi="on"><div dir="ltr" style="text-align: left;" trbidi="on"><div dir="ltr" style="text-align: left;" trbidi="on"><div dir="ltr" style="text-align: left;" trbidi="on"><div dir="ltr" style="text-align: left;" trbidi="on"><div dir="ltr" style="text-align: left;" trbidi="on"><div dir="ltr" style="text-align: left;" trbidi="on"><div dir="ltr" style="text-align: left;" trbidi="on"><div dir="ltr" style="text-align: left;" trbidi="on"><div style="text-align: left;" trbidi="on"><div style="text-align: justify;"><span style="font-size: large; font-weight: normal;"><span style="color: #a64d79;">What:</span></span><span style="font-weight: normal;"><span style="color: #a64d79;"><span style="color: black;">&nbsp;</span></span></span></div><div style="text-align: justify;"><span style="font-weight: normal;"><span style="color: #a64d79;"><span style="color: black;">Regex stands for</span>&nbsp; <a href="https://www.blogger.com/Regular%20expressiohttp://en.wikipedia.org/wiki/Regular_expressionn">Regular expression</a><span style="color: black;">. It is a sequence of characters that forms some pattern. These patterns can be used to search or match strings. Python has 're' module for applying regex on strings.<span style="color: #a64d79;"><span style="color: #a64d79;"> </span><span style="color: black;">Regex is build up of some special characters and alphabets.</span></span></span></span></span></div><div style="text-align: justify;"><br /></div><div style="text-align: justify;"><span style="font-size: large; font-weight: normal;"><span style="color: #a64d79;">Why:</span></span><span style="color: #a64d79;"><span style="font-weight: normal;"><span style="color: black;">&nbsp;</span></span></span></div><div style="text-align: justify;"><span style="color: #a64d79;"><span style="font-weight: normal;"><span style="color: black;">Regex is useful, when we have to do parsing on a lot of data. A simple character can match a whole string; sounds already fascinating. The statement will become more clear after the article.</span></span></span><span style="font-size: large; font-weight: normal;"><span style="color: #a64d79;"><span style="font-weight: normal;">&nbsp;</span></span></span></div><br /><div style="text-align: justify;"><span style="font-size: large; font-weight: normal;"><span style="color: #a64d79;"><span style="font-weight: normal;">How:</span></span></span></div><div style="text-align: justify;"><span style="color: #a64d79;"><span style="font-weight: normal;"><span style="color: black;">The Python re module has some functions, that can be used for pattern matching and searching using regex:</span></span></span><br /><span style="color: #a64d79;"><span style="font-weight: normal;"><span style="color: black;">First of all, on the top of your python script do this:</span></span></span><br /><br /><span style="color: #a64d79;"><span style="font-weight: normal;"><span style="color: black;"><code style="background-color: #f7f2e0;">import re&nbsp;</code></span></span></span><br /><span style="color: #a64d79;"><span style="font-weight: normal;"><span style="color: black;">set some variables: </span></span></span><br />
<code>
pat = r'[\'\"][\w][^\'\"].*jpe?g[\'\"]' text = '"http://www.google.image1.jpeg"'
</code>
<br /><span style="color: #a64d79;"><span style="font-weight: normal;"><span style="color: black;">1. re.match</span></span></span></div></div><div style="text-align: left;" trbidi="on"><span style="color: #a64d79;"><span style="font-weight: normal;"><span style="color: black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; This function is used to match some pattern at the beginning of a string. It returns a match object. Which contains many attributes, we can see them using, dir method. The attribute group method used in following example displays the string matched by pattern, grouping is discussed in the post later.</span></span></span><br /><span style="color: #a64d79;"><span style="font-weight: normal;"><span style="color: black;"><br /></span></span></span><span style="color: #a64d79;"><span style="font-weight: normal;"><span style="color: black;">example:</span></span></span><br />
{% highlight python %}
match = re.match(pat,text)
print dir(match)
print match.group()

Output:
['__class__', '__copy__', '__deepcopy__',  '__delattr__', '__doc__', '__format__',  '__getattribute__', '__hash__', '__init__',  '__new__', '__reduce__', '__reduce_ex__',  '__repr__', '__setattr__', '__sizeof__',  '__str__', '__subclasshook__','end',  'endpos', 'expand', 'group', 'groupdict',  'groups', 'lastgroup', 'lastindex', 'pos',  're', 'regs', 'span', 'start', 'string']'

"http://www.google.image1.jpeg"'
{% endhighlight %}

</span></span></span></div></div></div></div></div><br /><span style="color: #a64d79;"><span style="font-weight: normal;"><span style="color: black;">2.re.search:</span></span></span><br /><div style="text-align: left;"><div style="text-align: justify;"><span style="color: #a64d79;"><span style="font-weight: normal;"><span style="color: black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Similar to match, but differ in the manner that, it searches throughout the string and not just beginning.</span></span></span><br />
{% highlight python %}
text2 = 'href="http://www.google.image1.jpeg"'
search = re.search(pat,text2)
print search.group()

Output:
'"http://www.google.image1.jpeg"'
{% endhighlight %}
<div style="text-align: justify;"><br /></div><div style="text-align: justify;"><span style="color: #a64d79;"><span style="font-weight: normal;"><span style="color: black;">Difference between match and search:</span></span></span></div><div style="text-align: justify;"><span style="color: #a64d79;"><span style="font-weight: normal;"><span style="color: black;">Try this:<br />
{% highlight python %}
text2 = 'href="http://www.google.image1.jpeg"'
match=re.match(pat,text2)
print match

Output:
None
{% endhighlight %}
match and search both return an object instance. So we use group method to print the matched string.<br /><br /><span style="color: #a64d79;"><span style="font-weight: normal;"><span style="color: black;"><span style="color: #a64d79;"><span style="font-weight: normal;"><span style="color: black;">3. re.findall:</span></span></span></span></span></span><br /><div style="text-align: justify;"><span style="color: #a64d79;"><span style="font-weight: normal;"><span style="color: black;"><span style="color: #a64d79;"><span style="font-weight: normal;"><span style="color: black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; It finds all the occurences of the pattern and returns a list of them.</span></span></span></span></span></span>
{% highlight python %}
text='href="http://www.google.image3.gif"
href="http://www.google.image1.jpeg"
href="http://www.google.image2.jpg"
href="http://www.google.image1.png"'
find=re.findall(pat,text)
print find

Output:
['"http://www.google.image1.jpeg"', '"http: //www.google.image2.jpg"']
{% endhighlight %}

<span style="font-family: inherit;"><span style="color: #a64d79; font-size: small;"><span style="font-weight: normal;"><span style="color: black;"><span style="color: #a64d79;"><span style="font-weight: normal;"><span style="color: black;"> Above functions are for matching patterns. 're' also have function for replacing text with another.&nbsp;</span></span></span></span></span></span></span></div></div><div style="text-align: justify;"><br /></div><div style="text-align: justify;"><span style="font-family: inherit;"><span style="color: #a64d79; font-size: small;"><span style="font-weight: normal;"><span style="color: black;"><span style="color: #a64d79;"><span style="font-weight: normal;"><span style="color: black;">4. re.sub:</span></span></span></span></span></span></span></div><div style="text-align: justify;"><span style="font-family: inherit;"><span style="color: #a64d79; font-size: small;"><span style="font-weight: normal;"><span style="color: black;"><span style="color: #a64d79;"><span style="font-weight: normal;"><span style="color: black;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; It finds the part of string which matches the pattern and replace </span></span></span></span></span></span></span><span style="color: #a64d79;"><span style="font-weight: normal;"><span style="color: black;">it with a string provided in arguments as replacement.</span></span></span><br />
{% highlight python %}
text='href="http://www.google.image3.gif"
href="http://www.google.image1.jpeg"
href="http: //www.google.image2.jpg"
href="http://www.google.image1.png"'
pat=r'\.[\w]+\'\"]'
repl='.jpg'
print re.sub(pat,repl,text)

Output:
href="http://www.google.image3.jpg"
href="http://www.google.image1.jpg"
href="http: //www.google.image2.jpg"
href="http://www.google.image1.jpg"
{% endhighlight %}
<br />References:<br /><a href="http://www.google.com/url?q=http%3A%2F%2Fwww.regular-expressions.info%2Fpython.html&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNHD-jO3lZApHiX5UUaMg8RofQ98ww">http://www.regular-expressions.info/python.html</a><br /><a href="https://docs.python.org/2/library/re.html">python standard library documentation</a><br />for list of patterns available: <br /><a href="http://www.lleess.com/2013/03/python-regular-expression.html#.VDJputY8g8q">http://www.lleess.com/2013/03/python-regular-expression.html#.VDJputY8g8q</a><br />A tool for testing regex<br /><a href="http://www.pythonregex.com/">http://www.pythonregex.com/</a>    </div></div>
</div>